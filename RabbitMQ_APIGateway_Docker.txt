@echo off
set "ROOT_DIR=RabbitMQMicroservices"

echo Creating root directory and structure...
mkdir %ROOT_DIR%
cd %ROOT_DIR%

mkdir ApiGateway OrderService EmailService
mkdir OrderService\Messaging OrderService\Controllers
mkdir EmailService\Messaging

echo Creating core files...
type nul > docker-compose.yml
type nul > .gitignore

echo Creating ApiGateway files...
type nul > ApiGateway\ApiGateway.csproj
type nul > ApiGateway\Program.cs
type nul > ApiGateway\appsettings.json
type nul > ApiGateway\Dockerfile

echo Creating OrderService files...
type nul > OrderService\OrderService.csproj
type nul > OrderService\Program.cs
type nul > OrderService\Dockerfile
type nul > OrderService\Order.cs
type nul > OrderService\Controllers\OrdersController.cs
type nul > OrderService\Messaging\IRabbitMqProducer.cs
type nul > OrderService\Messaging\RabbitMqProducer.cs

echo Creating EmailService files...
type nul > EmailService\EmailService.csproj
type nul > EmailService\Program.cs
type nul > EmailService\Dockerfile
type nul > EmailService\Messaging\RabbitMqConsumerService.cs

echo.
echo Cấu trúc thư mục đã được tạo thành công trong "%ROOT_DIR%\"